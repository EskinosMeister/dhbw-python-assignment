
{#DATEI: cheapest.html
    ZWECK: Template zur Anzeige des Preisvergleichs für ein einzelnes Produkt.
    BASIS: Erweitert das Grundlayout 'base.html'.
    FUNKTIONALITÄT:
        - Zeigt den Namen des Produkts und den absolut günstigsten Preis an.
        - Listet alle Preise für dieses Produkt in den verschiedenen Supermärkten tabellarisch auf.#}
  
  {% extends "base.html" %}

  {#Da kein expliziter 'title' Block definiert ist, wird der Titel von base.html verwendet#}

{% block content %}
<h1>Günstigster Preis für {{ product_name }}</h1>
<p>
  <strong>Günstig:</strong> 
  {#Anzeige des Supermarkt-Namens und des formatierten Preises aus dem 'cheapest' Objekt#}
  {{ cheapest["supermarket_name"] }} – {{ "%.2f"|format(cheapest["price"]) }} €</p>

<h2>Alle Preise</h2>
<table>
  <tr>
    <th>Supermarkt</th>
    <th>Preis</th>
  </tr>

 {#Jinja2-Schleife: Iteriert über alle Preis-Ergebnisse ('rows'), die von der Flask-Route übergeben wurden#}
  {% for row in rows %}
  <tr>
     {#Anzeige des Supermarkt-Namens für die aktuelle Zeile#}
    <td>{{ row["supermarket_name"] }}</td>
    {#Anzeige des Preises, formatiert auf zwei Nachkommastellen (%.2f)#}
    <td>{{ "%.2f"|format(row["price"]) }} €</td>
  </tr>
  {% endfor %}
</table>
{% endblock %}
